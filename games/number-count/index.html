<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta name="theme-color" content="#0ea5e9" />
    <title>Count & Tap • Gordon Game Hub</title>
    <link rel="stylesheet" href="../../css/styles.css" />
    <style>
      /* Younger kids (2–3): count 1–5, huge stars, auto-check */
      body{ overflow:auto; }
      .gameShell{ min-height: 100vh; padding: 16px; display:flex; flex-direction:column; gap: 12px; }
      .topRow{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }
      .title{ font-family:"Fredoka", ui-rounded, system-ui; font-weight: 900; font-size: clamp(28px, 4.5vw, 44px); color:#06233b; margin:0; }
      .hud{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; font-weight: 900; }
      .card{ flex:1; background: rgba(255,255,255,0.86); border:2px solid rgba(255,255,255,0.65); border-radius: 26px; padding: 16px;
        box-shadow: 0 18px 46px rgba(0,0,0,0.16); backdrop-filter: blur(8px);
        display:flex; flex-direction:column; justify-content:center; gap: 14px;
      }
      .prompt{ text-align:center; font-weight: 900; font-size: clamp(18px, 3vw, 26px); opacity:0.85; }
      .target{ text-align:center; font-size: clamp(88px, 14vw, 140px); font-weight: 900; }
      .dots{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 14px; max-width: 720px; margin: 0 auto; width:100%; }
      @media (min-width: 720px){ .dots{ grid-template-columns: repeat(5, minmax(0,1fr)); } }
      .dot{ height: clamp(86px, 12vw, 120px); border-radius: 28px; border: none; cursor:pointer;
        font-size: clamp(54px, 7vw, 84px);
        background: rgba(255,255,255,0.92);
        box-shadow: 0 14px 30px rgba(0,0,0,0.16);
      }
      .dot.on{ background: rgba(34,211,238,0.40); }
      .good{ outline: 7px solid rgba(16,185,129,0.50); }
      .bad{ outline: 7px solid rgba(239,68,68,0.38); }
      .status{ text-align:center; font-weight: 900; font-size: 20px; min-height: 28px; }
      .scoreRow{ display:flex; align-items:center; justify-content:center; gap:14px; font-weight: 900; font-size: 18px; opacity:0.85; }

      /* Confetti celebration (very lightweight) */
      .confetti{
        position: fixed;
        inset: 0;
        pointer-events: none;
        opacity: 0;
        z-index: 0; /* behind the UI; above sky */
      }
      .confetti.show{ opacity: 1; animation: confettiFade 650ms ease-out forwards; }
      @keyframes confettiFade{
        0%{ opacity: 0; }
        10%{ opacity: 1; }
        100%{ opacity: 0; }
      }
      .confetti::before{
        content:"";
        position:absolute;
        inset:-20% -10%;
        background:
          radial-gradient(circle at 10% 10%, rgba(250,204,21,0.75) 0 10px, transparent 11px),
          radial-gradient(circle at 22% 18%, rgba(52,211,153,0.75) 0 10px, transparent 11px),
          radial-gradient(circle at 34% 12%, rgba(96,165,250,0.75) 0 10px, transparent 11px),
          radial-gradient(circle at 46% 20%, rgba(244,114,182,0.75) 0 10px, transparent 11px),
          radial-gradient(circle at 58% 14%, rgba(167,139,250,0.75) 0 10px, transparent 11px),
          radial-gradient(circle at 70% 22%, rgba(34,211,238,0.75) 0 10px, transparent 11px),
          radial-gradient(circle at 82% 16%, rgba(251,113,133,0.75) 0 10px, transparent 11px),
          radial-gradient(circle at 92% 24%, rgba(250,204,21,0.75) 0 10px, transparent 11px),

          radial-gradient(circle at 14% 34%, rgba(52,211,153,0.70) 0 9px, transparent 10px),
          radial-gradient(circle at 28% 40%, rgba(96,165,250,0.70) 0 9px, transparent 10px),
          radial-gradient(circle at 44% 36%, rgba(244,114,182,0.70) 0 9px, transparent 10px),
          radial-gradient(circle at 62% 42%, rgba(167,139,250,0.70) 0 9px, transparent 10px),
          radial-gradient(circle at 78% 38%, rgba(34,211,238,0.70) 0 9px, transparent 10px),
          radial-gradient(circle at 90% 44%, rgba(251,113,133,0.70) 0 9px, transparent 10px);
        transform: translateY(-8%);
        animation: confettiFall 650ms ease-out forwards;
      }
      @keyframes confettiFall{
        0%{ transform: translateY(-18%); }
        100%{ transform: translateY(12%); }
      }
    </style>
  </head>
  <body>
    <div class="clouds" aria-hidden="true"></div>
    <div class="confetti" id="confetti" aria-hidden="true"></div>

    <div class="gameShell">
      <div class="topRow">
        <h1 class="title">Count & Tap</h1>
        <div class="hud">
          <a class="btn secondary" href="../../index.html">← Hub</a>
          <button class="btn secondary iconBtn" id="musicToggle" type="button" aria-label="Music" title="Music"></button>
        </div>
      </div>

      <div class="card" aria-label="Count & Tap game">
        <div class="prompt">Tap this many stars</div>
        <div class="target" id="target">3</div>

        <div class="dots" id="dots" aria-label="Tap stars"></div>

        <div class="status" id="status"></div>

        <div class="scoreRow" aria-label="Score">
          <span>Score:</span> <span id="score">0</span>
        </div>
      </div>
    </div>

    <audio id="bgMusic" preload="auto">
      <source src="../../assets/music.mp3" type="audio/mpeg" />
    </audio>

    <script src="./number-count.js" defer></script>
  </body>
</html>
