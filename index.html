<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta name="theme-color" content="#0ea5e9" />

    <title>Gordon Game Hub</title>

    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="icon" href="./icons/icon.svg" type="image/svg+xml" />

    <!-- Fun, kid-friendly font (Google Fonts) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600;700;800&display=swap" rel="stylesheet" />

    <!-- PWA hints -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body>
    <div class="clouds" aria-hidden="true"></div>

    <div class="transitionOverlay" id="transitionOverlay" aria-hidden="true">
      <div class="transitionCard" role="status" aria-live="polite">
        <div class="spinner" aria-hidden="true"></div>
        <div class="transitionText" id="transitionText">Loadingâ€¦</div>
      </div>
    </div>

    <div class="shell" id="appShell">
      <header class="topbar">
        <div class="brand" aria-label="Gordon Game Hub">
          <div class="brandBadge" aria-hidden="true">
            <svg width="56" height="56" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="badgeSky" x1="0" y1="0" x2="64" y2="64" gradientUnits="userSpaceOnUse">
                  <stop offset="0" stop-color="#7dd3fc"/>
                  <stop offset="1" stop-color="#fbcfe8"/>
                </linearGradient>
              </defs>
              <rect x="4" y="4" width="56" height="56" rx="18" fill="url(#badgeSky)"/>
              <path d="M32 8 L39 24 L56 24 L42 35 L47 52 L32 42 L17 52 L22 35 L8 24 L25 24 Z" fill="#fbbf24" stroke="#f97316" stroke-width="2" stroke-linejoin="round"/>
              <circle cx="26" cy="30" r="3" fill="#0f172a"/>
              <circle cx="38" cy="30" r="3" fill="#0f172a"/>
              <path d="M24 36 C28 42 36 42 40 36" stroke="#0f172a" stroke-width="3" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="brandTitle">
            <span class="logoText" aria-label="Gordon Game Hub">
              <span class="logoLetter" aria-hidden="true">G</span>
              <span class="logoLetter" aria-hidden="true">o</span>
              <span class="logoLetter" aria-hidden="true">r</span>
              <span class="logoLetter" aria-hidden="true">d</span>
              <span class="logoLetter" aria-hidden="true">o</span>
              <span class="logoLetter" aria-hidden="true">n</span>
              <span class="logoLetter logoSpace" aria-hidden="true">&nbsp;</span>
              <span class="logoLetter" aria-hidden="true">G</span>
              <span class="logoLetter" aria-hidden="true">a</span>
              <span class="logoLetter" aria-hidden="true">m</span>
              <span class="logoLetter" aria-hidden="true">e</span>
              <span class="logoLetter logoSpace" aria-hidden="true">&nbsp;</span>
              <span class="logoLetter" aria-hidden="true">H</span>
              <span class="logoLetter" aria-hidden="true">u</span>
              <span class="logoLetter" aria-hidden="true">b</span>
            </span>
            <span class="logoSub">tap a game â€¢ have fun</span>
          </div>
        </div>

        <div class="musicControls">
          <button id="musicToggle" class="btn secondary iconBtn" type="button" aria-label="Music" title="Music"></button>
        </div>
      </header>

      <main class="main">
        <section class="panel" aria-label="Games">
          <h1 class="h1">Games</h1>
          <div class="grid" role="list">
            <a class="gameIconLink gameLink" role="listitem" href="https://99redder.github.io/bucketgame/" data-url="https://99redder.github.io/bucketgame/" aria-label="Animal Bucket" data-label="Animal Bucket">
              <span class="gameEmoji" aria-hidden="true">ðŸª£</span>
              <span class="gameLabel">Animal Bucket</span>
            </a>
            <a class="gameIconLink gameLink" role="listitem" href="./games/letter-pop/" data-url="./games/letter-pop/" aria-label="Letter Pop" data-label="Letter Pop">
              <span class="gameEmoji" aria-hidden="true">ðŸ”¤</span>
              <span class="gameLabel">Letter Pop</span>
            </a>
            <a class="gameIconLink gameLink" role="listitem" href="./games/shape-safari/" data-url="./games/shape-safari/" aria-label="Shape Safari" data-label="Shape Safari">
              <span class="gameEmoji" aria-hidden="true">ðŸ”º</span>
              <span class="gameLabel">Shape Safari</span>
            </a>
            <a class="gameIconLink gameLink" role="listitem" href="./games/number-count/" data-url="./games/number-count/" aria-label="Count & Tap" data-label="Count & Tap">
              <span class="gameEmoji" aria-hidden="true">ðŸ”¢</span>
              <span class="gameLabel">Count & Tap</span>
            </a>
            <a class="gameIconLink gameLink" role="listitem" href="./games/coloring/" data-url="./games/coloring/" aria-label="Coloring Time" data-label="Coloring Time">
              <span class="gameEmoji" aria-hidden="true">ðŸŽ¨</span>
              <span class="gameLabel">Coloring Time</span>
            </a>
            <a class="gameIconLink gameLink" role="listitem" href="./games/dress-up/" data-url="./games/dress-up/" aria-label="Dress Up" data-label="Dress Up">
              <span class="gameEmoji" aria-hidden="true">ðŸ§¢</span>
              <span class="gameLabel">Dress Up</span>
            </a>
          </div>
        </section>

        <section class="panel gordonPanel" aria-label="Gordon">
          <div class="gordonWrap" id="gordon">
            <div class="messageDisplay" id="messageDisplay" aria-label="Messages for Gordon" aria-live="polite">
              <div class="messageDisplayCard" id="messageCard">
                <div class="messageDisplayText" id="messageText"></div>
                <div class="messageDisplayFrom" id="messageFrom"></div>
              </div>
            </div>

            <div class="speech" id="bubble">Tap Gordon to say hello!</div>
            <div class="hint">(On iPad: tap Gordon. On desktop: hover or tap.)</div>

            <button id="gordonBtn" class="gordonBtn" type="button" aria-label="Gordon">
              <!-- Gordon: simple original SVG (no external licensing) -->
              <svg class="gordonSvg" viewBox="0 0 520 520" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Gordon">
                <defs>
                  <linearGradient id="shirt" x1="0" x2="0" y1="0" y2="1">
                    <stop offset="0" stop-color="#60a5fa"/>
                    <stop offset="1" stop-color="#2563eb"/>
                  </linearGradient>
                  <linearGradient id="hat" x1="0" x2="0" y1="0" y2="1">
                    <stop offset="0" stop-color="#fef3c7"/>
                    <stop offset="1" stop-color="#f59e0b"/>
                  </linearGradient>
                </defs>

                <!-- body -->
                <g>
                  <path d="M170 430c20-70 70-110 90-110s70 40 90 110" fill="url(#shirt)" opacity="0.95"/>
                  <path d="M170 430c0 30 40 60 90 60s90-30 90-60" fill="#1e40af" opacity="0.25"/>
                </g>

                <!-- head -->
                <g>
                  <circle cx="260" cy="230" r="110" fill="#fcd5b5"/>
                  <circle cx="220" cy="230" r="16" fill="#0b2239"/>
                  <circle cx="300" cy="230" r="16" fill="#0b2239"/>
                  <circle cx="215" cy="225" r="5" fill="#ffffff" opacity="0.9"/>
                  <circle cx="295" cy="225" r="5" fill="#ffffff" opacity="0.9"/>
                  <path d="M240 280c18 18 42 18 60 0" stroke="#b45309" stroke-width="10" stroke-linecap="round" fill="none"/>
                  <path d="M200 200c18-16 42-16 60 0" stroke="#7c2d12" stroke-width="10" stroke-linecap="round" fill="none" opacity="0.7"/>
                  <path d="M260 250c-10 12-10 22 0 34" stroke="#b45309" stroke-width="8" stroke-linecap="round" fill="none" opacity="0.55"/>
                </g>

                <!-- hat -->
                <g>
                  <path d="M140 210c30-70 100-110 120-110s90 40 120 110" fill="url(#hat)"/>
                  <path d="M120 230c60-40 320-40 380 0" fill="#fbbf24" opacity="0.9"/>
                  <path d="M170 190c30-50 70-80 90-80s60 30 90 80" fill="#fde68a" opacity="0.85"/>
                </g>

                <!-- left arm -->
                <g>
                  <path d="M160 360c-60 20-90 60-95 95" stroke="#2563eb" stroke-width="26" stroke-linecap="round" fill="none"/>
                  <circle cx="60" cy="460" r="20" fill="#fcd5b5"/>
                </g>

                <!-- right arm (waving) -->
                <g class="arm">
                  <path d="M360 360c60 10 110 50 120 95" stroke="#2563eb" stroke-width="26" stroke-linecap="round" fill="none"/>
                  <circle cx="490" cy="455" r="20" fill="#fcd5b5"/>
                </g>
              </svg>
            </button>
          </div>
        </section>
      </main>
    </div>

    <!-- Background music (you must provide a royalty-free file) -->
    <audio id="bgMusic" preload="auto">
      <source src="./assets/music.mp3" type="audio/mpeg" />
    </audio>

    <!-- Firebase SDK (compat builds for vanilla JS) -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-check-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
    <script src="./js/firebase-config.js"></script>
    <script src="./js/app-check.js"></script>
    <script src="./js/app.js" defer></script>
  </body>
</html>
